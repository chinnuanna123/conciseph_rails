<div class="content-wrapper">
   <div class="content-header">
      <div class="container-fluid">
         <div class="row mb-2">
            <div class="col-sm-6">
               <h1 class="m-0 text-dark">Health Education / Health Event</h1>
            </div>
            <!-- /.col -->
            <div class="col-sm-6">
               <ol class="breadcrumb float-sm-right">
                  <li class="breadcrumb-item"><a href="<%= root_path%>">Home</a></li>
                  <li class="breadcrumb-item active">Health Education / Health Event</li>
               </ol>
            </div>
         </div>
      </div>
   </div>
   <section class="content">
      <div class="card">
         <div class="card-body">
            <div class="row">
               <div class="col-12 col-md-6 col-lg-6">
                    <% start_date =  '01/12/2023'.to_datetime %>
                       
                  <h3 class="text-primary"><i class="fas fa-paint-brush"></i>Breast Cancer Screening Dec 23 Drive</h3>
                  <br/>
                  <div class="row">
                     <div class="col-6 text-muted text-sm mt-5">
                        Category
                        <b class="d-block text-danger">Breast Cancer Screening </b>
                     </div>
                     <div class="col-6 text-muted text-sm  mt-5">
                        Status
                        <b class="d-block text-danger">In Progress</b>
                     </div>
                     <div class="col-6 text-muted text-sm  mt-5">
                        Start Date
                        <b class="d-block text-danger"><%= start_date.strftime('%A, %d %b %Y ')%></b>
                     </div>
                     <div class="col-6 text-muted text-sm  mt-5">
                        End Date
                        <% end_date =  start_date.at_end_of_month %>
                      
                        <b class="d-block text-danger"><%= end_date.strftime('%A, %d %b %Y ')%></b>
                     </div>
                  </div>
               </div>
               <div class="col-12 col-md-6 col-lg-6 ">
                  <div class="row">
                     <div class="col-6">
                        <div>
                           <canvas id="outreach"></canvas>
                        </div>
                        <div class="text-center">
                            <b>Outreach Success</b>
                        </div>
                     </div>
                     <div class="col-6">
                        <div>
                           <canvas id="completion"></canvas>
                        </div>
                        <div class="text-center">
                            <b>Completion Success</b>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
   <section class="content">
      <div class="container-fluid">
         <div class="row d-flex justify-content-center">
            <div class="col-lg-4 col-6">
               <a href="#" style="color: white">
                  <div class="small-box bg-info">
                     <div class="inner">
                        <h3>0</h3>
                        <p>
                           Not Started
                        </p>
                     </div>
                     <div class="icon">
                        <i class="ion ion-bag"></i>
                     </div>
                  </div>
               </a>
            </div>
            <div class="col-lg-4 col-6">
               <a href="#" style="color: white">
                  <div class="small-box bg-warning">
                     <div class="inner">
                        <h3>106</h3>
                        <p>In Progress</p>
                     </div>
                     <div class="icon">
                        <i class="ion ion-stats-bars"></i>
                     </div>
                  </div>
               </a>
            </div>
            <div class="col-lg-4 col-6">
               <a href="#" style="color: white">
                  <div class="small-box bg-success">
                     <div class="inner">
                        <h3>854</h3>
                        <p>Completed </p>
                     </div>
                     <div class="icon">
                        <i class="ion ion-person-add"></i>
                     </div>
                  </div>
               </a>
            </div>
         </div>
         <div class="row">
            <div class="col-lg-12">
               <div class="card">
                  <div class="card-body table-responsive p-0">
                     <table class="table table-striped table-valign-middle">
                        <thead>
                           <tr>
                              <th>Member Name</th>
                              <th>Status</th>
                              <th>Acknowledge By</th>
                              <th>Last Action Taken</th>
                           </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <a href="#" class="provider-name-td" data-value="first">
                                     Maria Hernandez
                                    </a>
                                   
                                </td>
                                <td>
                                    Completed
                                </td>
                                <td>
                                    02 Dec 2023
                                </td>
                                <td>
                                   16 Dec 2023
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <a href="#" class="provider-name-td" data-value="second">
                                   Luna Williams
                                    </a>
                                </td>
                                <td>
                                    In Progress
                                </td>
                                <td>
                                    01 Dec 2023
                                </td>
                                <td>
                                    12 Dec 2023
                                </td>
                            </tr>
                           <% 100.times do |index| %>
                           <tr>
                              <td>
                                 <a href="#">
                                    <%= ['Amelia Jones','Sophia Smith','Isabella Johnson','Olivia Williams','Charlotte Brown','Ava Miller','Mia Garcia','Evelyn Taylor','Elizabeth Davis','Sophia Lopez','Isabella Wilson','Olivia Moore','Sophia Thomas','Ava Anderson','Mia Jackson','Evelyn White','Elizabeth Walker','Sophia Harris','Isabella Hernandez','Olivia Martin','Ava Garcia','Mia Robinson','Evelyn Lewis','Elizabeth Clark','Sophia Rodriguez','Isabella Allen','Olivia Wright','Ava King','Mia Scott','Evelyn Green','Elizabeth Baker','Sophia Ramirez','Isabella Young','Olivia Campbell','Ava Perez','Mia Moore','Evelyn Martinez','Elizabeth Garcia','Sophia Hernandez','Isabella Robinson','Olivia Mitchell','Ava Lopez','Mia Allen','Evelyn Davis','Elizabeth King','Sophia Taylor','Isabella Martin','Olivia Thomas','Ava Smith','Mia Williams','Evelyn Brown','Elizabeth Johnson','Sophia Jones','Isabella Garcia','Olivia Wilson','Ava Miller','Mia Davis','Evelyn Moore','Elizabeth Thomas','Sophia Garcia','Isabella Lopez','Olivia Hernandez','Ava Rodriguez','Mia Walker','Evelyn Harris','Elizabeth Martin','Sophia King','Isabella Taylor','Olivia White','Ava Brown','Mia Smith','Evelyn Garcia','Elizabeth Miller','Sophia Johnson','Isabella Jones','Ava Garcia','Mia Moore','Evelyn Lopez','Elizabeth Hernandez','Sophia Rodriguez','Isabella Walker','Olivia Harris','Ava Martin','Mia King','Evelyn Taylor','Elizabeth White','Sophia Brown','Isabella Smith','Ava Garcia','Mia Miller','Evelyn Johnson','Elizabeth Jones','Sophia Garcia','Isabella Lopez','Ava Hernandez','Mia Rodriguez','Evelyn Walker','Elizabeth Harris','Sophia Martin','Ava King'].sample  %>
                                 </a>
                                 
                              </td>
                              <td>
                                <%= ["Completed", "In Progress"].sample %>
                              </td>
                              <td>
                                 <%= ["01 Dec 2023", "02 Dec 2023", '03 Dec 2023'].sample%>
                              </td>
                              <td>
                                 <%= ["09 Dec 2023", "10 Dec 2023", '11 Dec 2023'].sample%>
                              </td>
                              
                           </tr>
                           <% end %>
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
</div>

<div class="modal fade hide" id="modal-default" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-body">
        <div class="card" id="data-to-append">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary close-modal pull-right">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade hide" style="display: none"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
   const ctx = document.getElementById('outreach');
     const data = {
     labels: [
         'Outreach (100%)'
     ],
     indexLabelPlacement: "bottom",
     datasets: [{
         label: 'Outreach',
         data: [8956,0],
         backgroundColor: [
             'rgb(105,168,79)'
         ],
         hoverOffset: 4
     }]
     };
   new Chart(ctx, {
     type: 'doughnut',
     data: data}
     );
   
     const completion_chart = document.getElementById('completion');
   
     const c_data = {
         labels: [
             'Completion Rate (88.95%)',
             ''
         ],
        indexLabelPlacement: "bottom",
         datasets: [{
             label: '',
             data: [854,106],
             backgroundColor: [
                 'rgb(105,168,79)',
                 'rgb(183,183,183)'
             ],
             hoverOffset: 4
         }]
     };
   new Chart(completion_chart, {
         type: 'doughnut',
         data: c_data}
     );
</script>
<script>
     $(function(){
      $(".modal-header .close, .modal-footer .close-modal").unbind('click').bind('click', function(){
         hideModal()
      });
      
      function showModal(){
          $("#modal-default, .modal-backdrop").removeClass('hide').addClass('show')
           .attr('role', 'dialog')
           .css('display', 'block')
      }

      function hideModal(){
            $("#data-to-append").html('')
           $("#modal-default, .modal-backdrop").addClass('hide').removeClass('show')
           .removeAttr('role')
           .css('display', 'none')
           
      }
      $(".provider-name-td").unbind('click').bind('click', function(e){
         e.preventDefault();
         var selected =$(this).attr('data-value')
         var firstRecordDetails = '<div class="card-body box-profile"></div><h3 class="profile-username text-center" >Maria Hernandez</h3><p class="text-muted text-center">Overall Status: <span class="text-success">Completed</span></p><div class="row p-0 m-0"><div class="col-4 text-muted text-sm mt-2">Gender<b class="d-block">Female</b></div><div class="col-4 text-muted text-sm  mt-2">Gender on Birth Certificate<b class="d-block">Female</b></div><div class="col-4 text-muted text-sm  mt-2">Ethinicity<b class="d-block">Hispanic</b></div><div class="col-4 text-muted text-sm  mt-2">Language<b class="d-block">Spanish</b></div><div class="col-4 text-muted text-sm  mt-2">Last Mobile App Usage<b class="d-block">16 Dec 2023 12:30PM</b></div></div><table class="mt-3 table table-striped table-valign-middle" style="height: 200px; overflow-y: auto"><thead><tr><th>Action Name</th><th>Action Status</th><th>Last Action Taken On</th></tr></thead><tbody><tr><td>Intro Message</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Why Breast Cancer Screening?</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Breast Cancer Screening Flyer</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Create Calendar Reminder</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Preparation for Cancer Screening </td><td class="text-success">Completed</td><td>16 Dec 2023</td></tr><tr><td>What to Expect during mammogram</td><td class="text-success">Completed</td><td>16 Dec 2023</td></tr><tr><td>Member Self Declaration of Completion</td><td class="text-success">Completed</td><td>16 Dec 2023</td></tr><tr><td>Thank you note</td><td class="text-success">Completed</td><td>16 Dec 2023</td></tr><tr><td>Cancer Screening Feedback</td><td class="text-success">Completed</td><td>16 Dec 2023</td></tr></tbody></table></div>'

         var secondRecordDetails = '<div class="card-body box-profile"><h3 class="profile-username text-center" >Luna Williams</h3><p class="text-muted text-center">Overall Status: <span class="text-danger">In Progress</span></p><div class="row p-0 m-0"><div class="col-4 text-muted text-sm mt-2">Gender<b class="d-block">Female</b></div><div class="col-4 text-muted text-sm  mt-2">Gender on Birth Certificate<b class="d-block">Female</b></div><div class="col-4 text-muted text-sm  mt-2">Ethinicity<b class="d-block">White</b></div><div class="col-4 text-muted text-sm  mt-2">Language<b class="d-block">English</b></div><div class="col-4 text-muted text-sm  mt-2">Last Mobile App Usage<b class="d-block">12 Dec 2023 06:30PM</b></div></div><table class="mt-3 table table-striped table-valign-middle" style="height: 200px; overflow-y: auto"><thead><tr><th>Action Name</th><th>Action Status</th><th>Last Action Taken On</th></tr></thead><tbody><tr><td>Intro Message</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Why Breast Cancer Screening?</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Breast Cancer Screening Flyer</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Create Calendar Reminder</td><td class="text-success">Completed</td><td>08 Dec 2023</td></tr><tr><td>Preparation for Cancer Screening </td><td class="text-danger">In Progress</td><td>12 Dec 2023</td></tr><tr><td>What to Expect during mammogram</td><td>Not Started</td><td>-</td></tr><tr><td>Member Self Declaration of Completion</td><td>Not Started</td><td>-</td></tr><tr><td>Thank you note</td><td>Not Started</td><td>-</td></tr><tr><td>Cancer Screening Feedback</td><td>Not Started</td><td>-</td></tr></tbody></table></div>'
         console.log(selected)
         if(selected === 'first'){
            $("#data-to-append").html(firstRecordDetails)
            
         }else{
            $("#data-to-append").html(secondRecordDetails)
         }
         
         showModal()
      })
     })
</script>